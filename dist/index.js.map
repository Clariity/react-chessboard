{"version":3,"file":"index.js","sources":["../node_modules/dnd-multi-backend/dist/esm/createTransition.js","../node_modules/dnd-multi-backend/dist/esm/Transitions.js","../node_modules/dnd-multi-backend/dist/esm/PreviewList.js","../node_modules/dnd-multi-backend/dist/esm/MultiBackend.js","../node_modules/dnd-multi-backend/dist/esm/index.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/@react-dnd/invariant/dist/invariant.esm.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/redux/es/redux.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/fast-deep-equal/index.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","../node_modules/react-dnd-multi-backend/dist/esm/components/DndProvider.js","../node_modules/react-dnd-preview/dist/esm/usePreview.js","../node_modules/react-dnd-preview/dist/esm/Preview.js","../node_modules/react-dnd-multi-backend/dist/esm/common.js","../node_modules/react-dnd-multi-backend/dist/esm/hooks/usePreview.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../node_modules/react-dnd-touch-backend/dist/esm/interfaces.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/predicates.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/offsets.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/math.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/supportsPassive.js","../node_modules/react-dnd-touch-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-touch-backend/dist/esm/TouchBackendImpl.js","../node_modules/react-dnd-touch-backend/dist/esm/index.js","../node_modules/react-dnd-multi-backend/dist/esm/HTML5toTouch.js","../src/media/pieces.js","../src/consts.js","../src/functions.js","../src/context/chessboard-context.js","../src/components/Piece.js","../src/components/Square.js","../src/components/Notation.js","../src/components/Squares.js","../src/media/error.js","../src/components/ErrorBoundary.js","../src/components/Board.js","../src/index.js"],"sourcesContent":["export default (function (event, check) {\n  return {\n    _isMBTransition: true,\n    event: event,\n    check: check\n  };\n});","import createTransition from './createTransition';\nexport var TouchTransition = createTransition('touchstart', function (event) {\n  return event.touches != null; // eslint-disable-line no-eq-null, eqeqeq\n});\nexport var HTML5DragTransition = createTransition('dragstart', function (event) {\n  if (event.type) {\n    return event.type.indexOf('drag') !== -1 || event.type.indexOf('drop') !== -1;\n  }\n\n  return false;\n});\nexport var MouseTransition = createTransition('mousedown', function (event) {\n  if (event.type) {\n    return event.type.indexOf('touch') === -1 && event.type.indexOf('mouse') !== -1;\n  }\n\n  return false;\n});","function _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PreviewList = function PreviewList() {\n  var _this = this;\n\n  _classCallCheck(this, PreviewList);\n\n  this.register = function (preview) {\n    _this.previews.push(preview);\n  };\n\n  this.unregister = function (preview) {\n    var index;\n\n    while ((index = _this.previews.indexOf(preview)) !== -1) {\n      _this.previews.splice(index, 1);\n    }\n  };\n\n  this.backendChanged = function (backend) {\n    var _iterator = _createForOfIteratorHelper(_this.previews),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var preview = _step.value;\n        preview.backendChanged(backend);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.previews = [];\n};\n\nexport { PreviewList };","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { PreviewList } from './PreviewList';\n\nvar _default = function _default(manager, context, sourceOptions) {\n  var _this = this;\n\n  _classCallCheck(this, _default);\n\n  this.setup = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (_this.constructor.isSetUp) {\n      throw new Error('Cannot have two MultiBackends at the same time.');\n    }\n\n    _this.constructor.isSetUp = true;\n\n    _this.addEventListeners(window);\n\n    _this.backends[_this.current].instance.setup();\n  };\n\n  this.teardown = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    _this.constructor.isSetUp = false;\n\n    _this.removeEventListeners(window);\n\n    _this.backends[_this.current].instance.teardown();\n  };\n\n  this.connectDragSource = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _this.connectBackend('connectDragSource', args);\n  };\n\n  this.connectDragPreview = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _this.connectBackend('connectDragPreview', args);\n  };\n\n  this.connectDropTarget = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _this.connectBackend('connectDropTarget', args);\n  };\n\n  this.previewEnabled = function () {\n    return _this.backends[_this.current].preview;\n  };\n\n  this.addEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.addEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.removeEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.removeEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.backendSwitcher = function (event) {\n    var oldBackend = _this.current;\n    var i = 0;\n\n    _this.backends.some(function (backend) {\n      if (i !== _this.current && backend.transition && backend.transition.check(event)) {\n        _this.current = i;\n        return true;\n      }\n\n      i += 1;\n      return false;\n    });\n\n    if (_this.current !== oldBackend) {\n      _this.backends[oldBackend].instance.teardown();\n\n      Object.keys(_this.nodes).forEach(function (id) {\n        var node = _this.nodes[id];\n        node.handler();\n        node.handler = _this.callBackend(node.func, node.args);\n      });\n\n      _this.previews.backendChanged(_this);\n\n      var newBackend = _this.backends[_this.current];\n      newBackend.instance.setup();\n\n      if (newBackend.skipDispatchOnTransition) {\n        return;\n      }\n\n      var newEvent = null;\n\n      try {\n        newEvent = new event.constructor(event.type, event);\n      } catch (_e) {\n        newEvent = document.createEvent('Event');\n        newEvent.initEvent(event.type, event.bubbles, event.cancelable);\n      }\n\n      event.target.dispatchEvent(newEvent);\n    }\n  };\n\n  this.callBackend = function (func, args) {\n    var _this$backends$_this$;\n\n    return (_this$backends$_this$ = _this.backends[_this.current].instance)[func].apply(_this$backends$_this$, _toConsumableArray(args));\n  };\n\n  this.connectBackend = function (func, args) {\n    var nodeId = \"\".concat(func, \"_\").concat(args[0]);\n\n    var handler = _this.callBackend(func, args);\n\n    _this.nodes[nodeId] = {\n      func: func,\n      args: args,\n      handler: handler\n    };\n    return function () {\n      var _this$nodes$nodeId;\n\n      var r = (_this$nodes$nodeId = _this.nodes[nodeId]).handler.apply(_this$nodes$nodeId, arguments);\n\n      delete _this.nodes[nodeId];\n      return r;\n    };\n  };\n\n  var options = Object.assign({\n    backends: []\n  }, sourceOptions || {});\n\n  if (options.backends.length < 1) {\n    throw new Error(\"You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx\");\n  }\n\n  this.current = 0;\n  this.previews = new PreviewList();\n  this.backends = [];\n  options.backends.forEach(function (backend) {\n    if (!backend.backend) {\n      throw new Error(\"You must specify a 'backend' property in your Backend entry: \".concat(backend));\n    }\n\n    var transition = backend.transition;\n\n    if (transition && !transition._isMBTransition) {\n      throw new Error(\"You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: \".concat(backend));\n    }\n\n    _this.backends.push({\n      instance: backend.backend(manager, context, backend.options),\n      preview: backend.preview || false,\n      transition: transition,\n      skipDispatchOnTransition: Boolean(backend.skipDispatchOnTransition)\n    });\n  });\n  this.nodes = {};\n} // DnD Backend API\n;\n\nexport { _default as default };","export { HTML5DragTransition, TouchTransition, MouseTransition } from './Transitions';\nexport { default as createTransition } from './createTransition';\nexport { PreviewList } from './PreviewList';\nimport MultiBackend from './MultiBackend';\nexport { MultiBackend };\nexport default (function (manager, context, options) {\n  return new MultiBackend(manager, context, options);\n});","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","/**\r\n * Use invariant() to assert state which your program assumes to be true.\r\n *\r\n * Provide sprintf-style format (only %s is supported) and arguments\r\n * to provide information about what broke and what you were\r\n * expecting.\r\n *\r\n * The invariant message will be stripped in production, but the invariant\r\n * will remain to ensure logic does not differ in production.\r\n */\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nexport { invariant };\n//# sourceMappingURL=invariant.esm.js.map\n","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { shallowEqual };\n//# sourceMappingURL=shallowequal.esm.js.map\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { DndProvider as ReactDndProvider } from 'react-dnd';\nimport MultiBackend from 'dnd-multi-backend';\nexport var PreviewPortalContext = React.createContext(null);\nexport var DndProvider = function DndProvider(props) {\n  var previewPortal = useRef();\n  return /*#__PURE__*/React.createElement(PreviewPortalContext.Provider, {\n    value: previewPortal.current\n  }, /*#__PURE__*/React.createElement(ReactDndProvider, _extends({\n    backend: MultiBackend\n  }, props)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: previewPortal\n  }));\n};\nDndProvider.propTypes = {\n  manager: PropTypes.any,\n  context: PropTypes.any,\n  options: PropTypes.any,\n  debugMode: PropTypes.bool\n};","import { useDragLayer } from 'react-dnd';\n\nvar getStyle = function getStyle(currentOffset) {\n  var transform = \"translate(\".concat(currentOffset.x, \"px, \").concat(currentOffset.y, \"px)\");\n  return {\n    pointerEvents: 'none',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    transform: transform,\n    WebkitTransform: transform\n  };\n};\n\nvar usePreview = function usePreview() {\n  var collectedProps = useDragLayer(function (monitor) {\n    return {\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n      itemType: monitor.getItemType(),\n      item: monitor.getItem()\n    };\n  });\n\n  if (!collectedProps.isDragging || collectedProps.currentOffset === null) {\n    return {\n      display: false\n    };\n  }\n\n  return {\n    display: true,\n    itemType: collectedProps.itemType,\n    item: collectedProps.item,\n    style: getStyle(collectedProps.currentOffset)\n  };\n};\n\nexport { usePreview };","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { usePreview } from './usePreview';\nimport { Context } from './Context';\n\nvar Preview = function Preview(props) {\n  var _usePreview = usePreview(),\n      display = _usePreview.display,\n      data = _objectWithoutProperties(_usePreview, [\"display\"]);\n\n  if (!display) {\n    return null;\n  }\n\n  var child;\n\n  if (props.children && typeof props.children === 'function') {\n    child = props.children(data);\n  } else if (props.children) {\n    child = props.children;\n  } else {\n    child = props.generator(data);\n  }\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: data\n  }, child);\n};\n\nPreview.propTypes = {\n  generator: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nexport { Preview };","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useState, useEffect, useContext } from 'react';\nimport { DndContext } from 'react-dnd';\n\nvar useObservePreviews = function useObservePreviews() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      enabled = _useState2[0],\n      setEnabled = _useState2[1];\n\n  var dndContext = useContext(DndContext);\n  useEffect(function () {\n    var backend = dndContext.dragDropManager.getBackend();\n    var observer = {\n      backendChanged: function backendChanged(cbackend) {\n        setEnabled(cbackend.previewEnabled());\n      }\n    };\n    setEnabled(backend.previewEnabled());\n    backend.previews.register(observer);\n    return function () {\n      backend.previews.unregister(observer);\n    };\n  }, [dndContext, setEnabled]);\n  return enabled;\n};\n\nexport { useObservePreviews };","import { usePreview as usePreviewDnd } from 'react-dnd-preview';\nimport { useObservePreviews } from '../common';\n\nvar usePreview = function usePreview() {\n  var enabled = useObservePreviews();\n  var result = usePreviewDnd();\n\n  if (!enabled) {\n    return {\n      display: false\n    };\n  }\n\n  return result;\n};\n\nexport { usePreview };","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","export var ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));","// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nexport function isTouchEvent(e) {\n  return !!e.targetTouches;\n}","import { isTouchEvent } from './predicates';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\nexport function getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}","export function distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nexport function inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}","export var supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(args, context) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"args\", void 0);\n\n    _defineProperty(this, \"context\", void 0);\n\n    this.args = args;\n    this.context = context;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"delay\",\n    get: function get() {\n      var _this$args$delay;\n\n      return (_this$args$delay = this.args.delay) !== null && _this$args$delay !== void 0 ? _this$args$delay : 0;\n    }\n  }, {\n    key: \"scrollAngleRanges\",\n    get: function get() {\n      return this.args.scrollAngleRanges;\n    }\n  }, {\n    key: \"getDropTargetElementsAtPoint\",\n    get: function get() {\n      return this.args.getDropTargetElementsAtPoint;\n    }\n  }, {\n    key: \"ignoreContextMenu\",\n    get: function get() {\n      var _this$args$ignoreCont;\n\n      return (_this$args$ignoreCont = this.args.ignoreContextMenu) !== null && _this$args$ignoreCont !== void 0 ? _this$args$ignoreCont : false;\n    }\n  }, {\n    key: \"enableHoverOutsideTarget\",\n    get: function get() {\n      var _this$args$enableHove;\n\n      return (_this$args$enableHove = this.args.enableHoverOutsideTarget) !== null && _this$args$enableHove !== void 0 ? _this$args$enableHove : false;\n    }\n  }, {\n    key: \"enableKeyboardEvents\",\n    get: function get() {\n      var _this$args$enableKeyb;\n\n      return (_this$args$enableKeyb = this.args.enableKeyboardEvents) !== null && _this$args$enableKeyb !== void 0 ? _this$args$enableKeyb : false;\n    }\n  }, {\n    key: \"enableMouseEvents\",\n    get: function get() {\n      var _this$args$enableMous;\n\n      return (_this$args$enableMous = this.args.enableMouseEvents) !== null && _this$args$enableMous !== void 0 ? _this$args$enableMous : false;\n    }\n  }, {\n    key: \"enableTouchEvents\",\n    get: function get() {\n      var _this$args$enableTouc;\n\n      return (_this$args$enableTouc = this.args.enableTouchEvents) !== null && _this$args$enableTouc !== void 0 ? _this$args$enableTouc : true;\n    }\n  }, {\n    key: \"touchSlop\",\n    get: function get() {\n      return this.args.touchSlop || 0;\n    }\n  }, {\n    key: \"delayTouchStart\",\n    get: function get() {\n      var _ref, _this$args$delayTouch, _this$args, _this$args2;\n\n      return (_ref = (_this$args$delayTouch = (_this$args = this.args) === null || _this$args === void 0 ? void 0 : _this$args.delayTouchStart) !== null && _this$args$delayTouch !== void 0 ? _this$args$delayTouch : (_this$args2 = this.args) === null || _this$args2 === void 0 ? void 0 : _this$args2.delay) !== null && _ref !== void 0 ? _ref : 0;\n    }\n  }, {\n    key: \"delayMouseStart\",\n    get: function get() {\n      var _ref2, _this$args$delayMouse, _this$args3, _this$args4;\n\n      return (_ref2 = (_this$args$delayMouse = (_this$args3 = this.args) === null || _this$args3 === void 0 ? void 0 : _this$args3.delayMouseStart) !== null && _this$args$delayMouse !== void 0 ? _this$args$delayMouse : (_this$args4 = this.args) === null || _this$args4 === void 0 ? void 0 : _this$args4.delay) !== null && _ref2 !== void 0 ? _ref2 : 0;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$context;\n\n      if ((_this$context = this.context) !== null && _this$context !== void 0 && _this$context.document) {\n        return this.context.document;\n      }\n\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$args5;\n\n      return ((_this$args5 = this.args) === null || _this$args5 === void 0 ? void 0 : _this$args5.rootElement) || this.document;\n    }\n  }]);\n\n  return OptionsReader;\n}();","var _eventNames;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { ListenerType } from './interfaces';\nimport { eventShouldStartDrag, eventShouldEndDrag, isTouchEvent } from './utils/predicates';\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets';\nimport { distance, inAngleRanges } from './utils/math';\nimport { supportsPassive } from './utils/supportsPassive';\nimport { OptionsReader } from './OptionsReader';\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\nexport var TouchBackendImpl = /*#__PURE__*/function () {\n  // React-DnD Dependencies\n  // Internal State\n  // Patch for iOS 13, discussion over #1585\n  function TouchBackendImpl(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"sourceNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", void 0);\n\n    _defineProperty(this, \"targetNodes\", void 0);\n\n    _defineProperty(this, \"_mouseClientOffset\", void 0);\n\n    _defineProperty(this, \"_isScrolling\", void 0);\n\n    _defineProperty(this, \"listenerTypes\", void 0);\n\n    _defineProperty(this, \"moveStartSourceIds\", void 0);\n\n    _defineProperty(this, \"waitingForDelay\", void 0);\n\n    _defineProperty(this, \"timeout\", void 0);\n\n    _defineProperty(this, \"dragOverTargetIds\", void 0);\n\n    _defineProperty(this, \"draggedSourceNode\", void 0);\n\n    _defineProperty(this, \"draggedSourceNodeRemovalObserver\", void 0);\n\n    _defineProperty(this, \"lastTargetTouchFallback\", void 0);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var element = _this.sourceNodes.get(sourceId);\n\n      return element && getNodeClientOffset(element);\n    });\n\n    _defineProperty(this, \"handleTopMoveStartCapture\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleMoveStart\", function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMoveStart\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    });\n\n    _defineProperty(this, \"handleTopMoveStartDelay\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    });\n\n    _defineProperty(this, \"handleTopMoveCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleMove\", function (_evt, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMove\", function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes.get(_this.monitor.getSourceId());\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      if (e.cancelable) e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes.get(key);\n      }).filter(function (e) {\n        return !!e;\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        return _this._getDropTargetId(node);\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          var targetNode = _this.targetNodes.get(targetId);\n\n          if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    });\n\n    _defineProperty(this, \"_getDropTargetId\", function (node) {\n      var keys = _this.targetNodes.keys();\n\n      var next = keys.next();\n\n      while (next.done === false) {\n        var targetId = next.value;\n\n        if (node === _this.targetNodes.get(targetId)) {\n          return targetId;\n        } else {\n          next = keys.next();\n        }\n      }\n\n      return undefined;\n    });\n\n    _defineProperty(this, \"handleTopMoveEndCapture\", function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      if (e.cancelable) e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    });\n\n    _defineProperty(this, \"handleCancelOnEscape\", function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    });\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = new Map();\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.targetNodes = new Map();\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(TouchBackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragOverTargetI;\n\n      return {\n        sourceNodes: this.sourceNodes.size,\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        targetNodes: this.targetNodes.size,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackendImpl.isSetUp = true;\n      this.addEventListener(root, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(root, 'move', this.handleTopMove);\n      this.addEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      TouchBackendImpl.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(root, 'start', this.handleTopMoveStart);\n      this.removeEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(root, 'move', this.handleTopMove);\n      this.removeEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes.set(sourceId, node);\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        _this2.sourceNodes.delete(sourceId);\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this3.sourcePreviewNodes.delete(sourceId);\n\n        _this3.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var root = this.options.rootElement;\n\n      if (!this.document || !root) {\n        return function () {\n          /* noop */\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !root || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes.set(targetId, node);\n      return function () {\n        if (_this4.document) {\n          _this4.targetNodes.delete(targetId);\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }]);\n\n  return TouchBackendImpl;\n}();\n\n_defineProperty(TouchBackendImpl, \"isSetUp\", void 0);","import { TouchBackendImpl } from './TouchBackendImpl';\nexport * from './interfaces';\nexport * from './TouchBackendImpl';\nexport var TouchBackend = function createBackend(manager) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackendImpl(manager, context, options);\n};","import { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\nimport { TouchTransition, MouseTransition } from 'dnd-multi-backend';\nexport default {\n  backends: [{\n    backend: HTML5Backend,\n    transition: MouseTransition\n  }, {\n    backend: TouchBackend,\n    options: {\n      enableMouseEvents: true\n    },\n    preview: true,\n    transition: TouchTransition\n  }]\n};","import React from 'react';\r\n// https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces\r\n// By en:User:Cburnett - Own work\r\n// This W3C - unspecified vector image was created with Inkscape., CC BY - SA 3.0, https://commons.wikimedia.org/w/index.php?curid=1499810\r\n\r\nexport const defaultPieces = {\r\n  wP: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <path\r\n        d=\"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\"\r\n        style={{\r\n          opacity: '1',\r\n          fill: '#ffffff',\r\n          fillOpacity: '1',\r\n          fillRule: 'nonzero',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'miter',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      />\r\n    </svg>\r\n  ),\r\n  wR: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          opacity: '1',\r\n          fill: '#ffffff',\r\n          fillOpacity: '1',\r\n          fillRule: 'evenodd',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <path d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \" style={{ strokeLinecap: 'butt' }} />\r\n        <path d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \" style={{ strokeLinecap: 'butt' }} />\r\n        <path\r\n          d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"\r\n          style={{ strokeLinecap: 'butt' }}\r\n        />\r\n        <path d=\"M 34,14 L 31,17 L 14,17 L 11,14\" />\r\n        <path d=\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\" style={{ strokeLinecap: 'butt', strokeLinejoin: 'miter' }} />\r\n        <path d=\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\" />\r\n        <path d=\"M 11,14 L 34,14\" style={{ fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }} />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  wN: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          opacity: '1',\r\n          fill: 'none',\r\n          fillOpacity: '1',\r\n          fillRule: 'evenodd',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <path\r\n          d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"\r\n          style={{ fill: '#ffffff', stroke: '#000000' }}\r\n        />\r\n        <path\r\n          d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"\r\n          style={{ fill: '#ffffff', stroke: '#000000' }}\r\n        />\r\n        <path\r\n          d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"\r\n          style={{ fill: '#000000', stroke: '#000000' }}\r\n        />\r\n        <path\r\n          d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"\r\n          transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"\r\n          style={{ fill: '#000000', stroke: '#000000' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  wB: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          opacity: '1',\r\n          fill: 'none',\r\n          fillRule: 'evenodd',\r\n          fillOpacity: '1',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <g style={{ fill: '#ffffff', stroke: '#000000', strokeLinecap: 'butt' }}>\r\n          <path d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\" />\r\n          <path d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />\r\n          <path d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />\r\n        </g>\r\n        <path\r\n          d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"\r\n          style={{ fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  wQ: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g style={{ fill: '#ffffff', stroke: '#000000', strokeWidth: '1.5', strokeLinejoin: 'round' }}>\r\n        <path d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\" />\r\n        <path d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\" />\r\n        <path d=\"M 11.5,30 C 15,29 30,29 33.5,30\" style={{ fill: 'none' }} />\r\n        <path d=\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\" style={{ fill: 'none' }} />\r\n        <circle cx=\"6\" cy=\"12\" r=\"2\" />\r\n        <circle cx=\"14\" cy=\"9\" r=\"2\" />\r\n        <circle cx=\"22.5\" cy=\"8\" r=\"2\" />\r\n        <circle cx=\"31\" cy=\"9\" r=\"2\" />\r\n        <circle cx=\"39\" cy=\"12\" r=\"2\" />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  wK: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          fill: 'none',\r\n          fillOpacity: '1',\r\n          fillRule: 'evenodd',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <path d=\"M 22.5,11.63 L 22.5,6\" style={{ fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }} />\r\n        <path d=\"M 20,8 L 25,8\" style={{ fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }} />\r\n        <path\r\n          d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"\r\n          style={{ fill: '#ffffff', stroke: '#000000', strokeLinecap: 'butt', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path\r\n          d=\"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\"\r\n          style={{ fill: '#ffffff', stroke: '#000000' }}\r\n        />\r\n        <path d=\"M 12.5,30 C 18,27 27,27 32.5,30\" style={{ fill: 'none', stroke: '#000000' }} />\r\n        <path d=\"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\" style={{ fill: 'none', stroke: '#000000' }} />\r\n        <path d=\"M 12.5,37 C 18,34 27,34 32.5,37\" style={{ fill: 'none', stroke: '#000000' }} />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  bP: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <path\r\n        d=\"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\"\r\n        style={{\r\n          opacity: '1',\r\n          fill: '#000000',\r\n          fillOpacity: '1',\r\n          fillRule: 'nonzero',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'miter',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      />\r\n    </svg>\r\n  ),\r\n  bR: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          opacity: '1',\r\n          fill: '#000000',\r\n          fillOpacity: '1',\r\n          fillRule: 'evenodd',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <path d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \" style={{ strokeLinecap: 'butt' }} />\r\n        <path d=\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \" style={{ strokeLinecap: 'butt' }} />\r\n        <path d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \" style={{ strokeLinecap: 'butt' }} />\r\n        <path\r\n          d=\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"\r\n          style={{ strokeLinecap: 'butt', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path d=\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \" style={{ strokeLinecap: 'butt' }} />\r\n        <path\r\n          d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"\r\n          style={{ strokeLinecap: 'butt' }}\r\n        />\r\n        <path\r\n          d=\"M 12,35.5 L 33,35.5 L 33,35.5\"\r\n          style={{ fill: 'none', stroke: '#ffffff', strokeWidth: '1', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path\r\n          d=\"M 13,31.5 L 32,31.5\"\r\n          style={{ fill: 'none', stroke: '#ffffff', strokeWidth: '1', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path\r\n          d=\"M 14,29.5 L 31,29.5\"\r\n          style={{ fill: 'none', stroke: '#ffffff', strokeWidth: '1', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path\r\n          d=\"M 14,16.5 L 31,16.5\"\r\n          style={{ fill: 'none', stroke: '#ffffff', strokeWidth: '1', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path\r\n          d=\"M 11,14 L 34,14\"\r\n          style={{ fill: 'none', stroke: '#ffffff', strokeWidth: '1', strokeLinejoin: 'miter' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  bN: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          opacity: '1',\r\n          fill: 'none',\r\n          fillOpacity: '1',\r\n          fillRule: 'evenodd',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <path\r\n          d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"\r\n          style={{ fill: '#000000', stroke: '#000000' }}\r\n        />\r\n        <path\r\n          d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"\r\n          style={{ fill: '#000000', stroke: '#000000' }}\r\n        />\r\n        <path\r\n          d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"\r\n          style={{ fill: '#ffffff', stroke: '#ffffff' }}\r\n        />\r\n        <path\r\n          d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"\r\n          transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"\r\n          style={{ fill: '#ffffff', stroke: '#ffffff' }}\r\n        />\r\n        <path\r\n          d=\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"\r\n          style={{ fill: '#ffffff', stroke: 'none' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  bB: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          opacity: '1',\r\n          fill: 'none',\r\n          fillRule: 'evenodd',\r\n          fillOpacity: '1',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <g style={{ fill: '#000000', stroke: '#000000', strokeLinecap: 'butt' }}>\r\n          <path d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\" />\r\n          <path d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />\r\n          <path d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />\r\n        </g>\r\n        <path\r\n          d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"\r\n          style={{ fill: 'none', stroke: '#ffffff', strokeLinejoin: 'miter' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  ),\r\n  bQ: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          fill: '#000000',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round'\r\n        }}\r\n      >\r\n        <path\r\n          d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\r\n          style={{ strokeLinecap: 'butt', fill: '#000000' }}\r\n        />\r\n        <path d=\"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\" />\r\n        <path d=\"M 11.5,30 C 15,29 30,29 33.5,30\" />\r\n        <path d=\"m 12,33.5 c 6,-1 15,-1 21,0\" />\r\n        <circle cx=\"6\" cy=\"12\" r=\"2\" />\r\n        <circle cx=\"14\" cy=\"9\" r=\"2\" />\r\n        <circle cx=\"22.5\" cy=\"8\" r=\"2\" />\r\n        <circle cx=\"31\" cy=\"9\" r=\"2\" />\r\n        <circle cx=\"39\" cy=\"12\" r=\"2\" />\r\n        <path d=\"M 11,38.5 A 35,35 1 0 0 34,38.5\" style={{ fill: 'none', stroke: '#000000', strokeLinecap: 'butt' }} />\r\n        <g style={{ fill: 'none', stroke: '#ffffff' }}>\r\n          <path d=\"M 11,29 A 35,35 1 0 1 34,29\" />\r\n          <path d=\"M 12.5,31.5 L 32.5,31.5\" />\r\n          <path d=\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\" />\r\n          <path d=\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\" />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  ),\r\n  bK: (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\r\n      <g\r\n        style={{\r\n          fill: 'none',\r\n          fillOpacity: '1',\r\n          fillRule: 'evenodd',\r\n          stroke: '#000000',\r\n          strokeWidth: '1.5',\r\n          strokeLinecap: 'round',\r\n          strokeLinejoin: 'round',\r\n          strokeMiterlimit: '4',\r\n          strokeDasharray: 'none',\r\n          strokeOpacity: '1'\r\n        }}\r\n      >\r\n        <path\r\n          d=\"M 22.5,11.63 L 22.5,6\"\r\n          style={{ fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }}\r\n          id=\"path6570\"\r\n        />\r\n        <path\r\n          d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"\r\n          style={{ fill: '#000000', fillOpacity: '1', strokeLinecap: 'butt', strokeLinejoin: 'miter' }}\r\n        />\r\n        <path\r\n          d=\"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\"\r\n          style={{ fill: '#000000', stroke: '#000000' }}\r\n        />\r\n        <path d=\"M 20,8 L 25,8\" style={{ fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }} />\r\n        <path\r\n          d=\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\"\r\n          style={{ fill: 'none', stroke: '#ffffff' }}\r\n        />\r\n        <path\r\n          d=\"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\"\r\n          style={{ fill: 'none', stroke: '#ffffff' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  )\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const COLUMNS = 'abcdefgh'.split('');\r\n\r\nexport const chessboardPropTypes = {\r\n  // time in milliseconds for piece to slide to target square. Only used when the position is programmatically changed\r\n  animationDuration: PropTypes.number,\r\n\r\n  // if pieces are draggable\r\n  arePiecesDraggable: PropTypes.bool,\r\n\r\n  // Orientation of the board\r\n  boardOrientation: PropTypes.oneOf(['white', 'black']),\r\n\r\n  // width of board in pixels. for responsive width show useChessBoardSize/useScreenSize example\r\n  boardWidth: PropTypes.number,\r\n\r\n  // board style object e.g. { borderRadius: '5px', boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`}\r\n  customBoardStyle: PropTypes.object,\r\n\r\n  // dark square style object e.g. { backgroundColor: '#B58863' }\r\n  customDarkSquareStyle: PropTypes.object,\r\n\r\n  // current drop square style object e.g. { backgroundColor: 'sienna' }\r\n  customDropSquareStyle: PropTypes.object,\r\n\r\n  // light square style object e.g. { backgroundColor: '#F0D9B5' }\r\n  customLightSquareStyle: PropTypes.object,\r\n\r\n  // pieces object where each piece returns JSX to render. { wK: ({ isDragging: boolean, squareWidth: pixels, droppedPiece: piece string, targetSquare: square string, sourceSquare: square string }) => jsx }\r\n  customPieces: PropTypes.object,\r\n\r\n  // custom squares style object. e.g. {'e4': {backgroundColor: 'orange'}, ...}\r\n  customSquareStyles: PropTypes.object,\r\n\r\n  // behavior of pieces when dropped off the board. 'snapback' brings the piece back to it's original square, 'trash' deletes the piece from the board\r\n  dropOffBoardAction: PropTypes.oneOf(['snapback', 'trash']),\r\n\r\n  // board identifier, necessary if more than one board is mounted for drag and drop.\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\r\n  // function called when a piece drag is initiated. Returns if piece is draggable ({ piece: string, sourceSquare: string }) => bool\r\n  isDraggablePiece: PropTypes.func,\r\n\r\n  // user function that receives current position object when position changes. (currentPosition: object) => void\r\n  getPositionObject: PropTypes.func,\r\n\r\n  // user function that is run when piece is dragged over a square (square: string) => void\r\n  onDragOverSquare: PropTypes.func,\r\n\r\n  // user function that is run when mouse leaves a square (square: string) => void\r\n  onMouseOutSquare: PropTypes.func,\r\n\r\n  // user function that is run when mouse is over a square (square: string) => void\r\n  onMouseOverSquare: PropTypes.func,\r\n\r\n  // user function that is run when piece is clicked (piece: string) => void\r\n  onPieceClick: PropTypes.func,\r\n\r\n  // user function that is run when piece is dropped on a square ({ sourceSquare: string, targetSquare: string, piece: string }) => void\r\n  onPieceDrop: PropTypes.func,\r\n\r\n  // user function that is run when a square is clicked (square: string) => void\r\n  onSquareClick: PropTypes.func,\r\n\r\n  // user function that is run when a square is right clicked (square: string) => void\r\n  onSquareRightClick: PropTypes.func,\r\n\r\n  // FEN string or a position object ({ e5: 'wK', e4: 'wP', e7: 'bK' })\r\n  position: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\r\n  // show file character and rank numbers (a..h, 1..8)\r\n  showBoardNotation: PropTypes.bool\r\n\r\n  // show spare pieces above and below board.\r\n  // showSparePieces: PropTypes.bool\r\n};\r\n\r\nexport const chessboardDefaultProps = {\r\n  animationDuration: 300,\r\n  arePiecesDraggable: true,\r\n  boardOrientation: 'white',\r\n  boardWidth: 560,\r\n  customBoardStyle: {},\r\n  customDarkSquareStyle: { backgroundColor: '#B58863' },\r\n  customDropSquareStyle: { boxShadow: 'inset 0 0 1px 6px rgba(255,255,255,0.75)' },\r\n  customLightSquareStyle: { backgroundColor: '#F0D9B5' },\r\n  customPieces: {},\r\n  customSquareStyles: {},\r\n  dropOffBoardAction: 'snapback',\r\n  id: 0,\r\n  isDraggablePiece: () => true,\r\n  getPositionObject: () => {},\r\n  onDragOverSquare: () => {},\r\n  onMouseOutSquare: () => {},\r\n  onMouseOverSquare: () => {},\r\n  onPieceClick: () => {},\r\n  onPieceDrop: () => {},\r\n  onSquareClick: () => {},\r\n  onSquareRightClick: () => {},\r\n  position: 'start',\r\n  showBoardNotation: true\r\n  // showSparePieces: false\r\n};\r\n","import { COLUMNS } from './consts';\r\n\r\nexport const getPositionDifferences = (currentPosition, newPosition) => {\r\n  const difference = { removed: {}, added: {} };\r\n  // removed from current\r\n  Object.keys(currentPosition).forEach((square) => {\r\n    if (newPosition[square] !== currentPosition[square]) difference.removed[square] = currentPosition[square];\r\n  });\r\n  // added from new\r\n  Object.keys(newPosition).forEach((square) => {\r\n    if (currentPosition[square] !== newPosition[square]) difference.added[square] = newPosition[square];\r\n  });\r\n  return difference;\r\n};\r\n\r\nfunction isString(s) {\r\n  return typeof s === 'string';\r\n}\r\n\r\nexport function convertPositionToObject(position) {\r\n  if (position === 'start') return fenToObj('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR');\r\n  if (validFen(position)) return fenToObj(position);\r\n  if (validPositionObject(position)) return position;\r\n  return {};\r\n}\r\n\r\nexport function fenToObj(fen) {\r\n  if (!validFen(fen)) return false;\r\n  // cut off any move, castling, etc info from the end. we're only interested in position information\r\n  fen = fen.replace(/ .+$/, '');\r\n  const rows = fen.split('/');\r\n  const position = {};\r\n  let currentRow = 8;\r\n\r\n  for (let i = 0; i < 8; i++) {\r\n    const row = rows[i].split('');\r\n    let colIdx = 0;\r\n\r\n    // loop through each character in the FEN section\r\n    for (let j = 0; j < row.length; j++) {\r\n      // number / empty squares\r\n      if (row[j].search(/[1-8]/) !== -1) {\r\n        const numEmptySquares = parseInt(row[j], 10);\r\n        colIdx = colIdx + numEmptySquares;\r\n      } else {\r\n        // piece\r\n        const square = COLUMNS[colIdx] + currentRow;\r\n        position[square] = fenToPieceCode(row[j]);\r\n        colIdx = colIdx + 1;\r\n      }\r\n    }\r\n    currentRow = currentRow - 1;\r\n  }\r\n  return position;\r\n}\r\n\r\nfunction expandFenEmptySquares(fen) {\r\n  return fen\r\n    .replace(/8/g, '11111111')\r\n    .replace(/7/g, '1111111')\r\n    .replace(/6/g, '111111')\r\n    .replace(/5/g, '11111')\r\n    .replace(/4/g, '1111')\r\n    .replace(/3/g, '111')\r\n    .replace(/2/g, '11');\r\n}\r\n\r\nexport function validFen(fen) {\r\n  if (!isString(fen)) return false;\r\n  // cut off any move, castling, etc info from the end. we're only interested in position information\r\n  fen = fen.replace(/ .+$/, '');\r\n  // expand the empty square numbers to just 1s\r\n  fen = expandFenEmptySquares(fen);\r\n  // FEN should be 8 sections separated by slashes\r\n  const chunks = fen.split('/');\r\n  if (chunks.length !== 8) return false;\r\n  // check each section\r\n  for (let i = 0; i < 8; i++) {\r\n    if (chunks[i].length !== 8 || chunks[i].search(/[^kqrnbpKQRNBP1]/) !== -1) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// convert FEN piece code to bP, wK, etc\r\nfunction fenToPieceCode(piece) {\r\n  // black piece\r\n  if (piece.toLowerCase() === piece) {\r\n    return 'b' + piece.toUpperCase();\r\n  }\r\n  // white piece\r\n  return 'w' + piece.toUpperCase();\r\n}\r\n\r\nfunction validSquare(square) {\r\n  return isString(square) && square.search(/^[a-h][1-8]$/) !== -1;\r\n}\r\n\r\nfunction validPieceCode(code) {\r\n  return isString(code) && code.search(/^[bw][KQRNBP]$/) !== -1;\r\n}\r\n\r\nexport function validPositionObject(pos) {\r\n  if (pos === null || typeof pos !== 'object') return false;\r\n\r\n  for (const i in pos) {\r\n    if (!pos[i]) continue;\r\n\r\n    if (!validSquare(i) || !validPieceCode(pos[i])) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction squeezeFenEmptySquares(fen) {\r\n  return fen\r\n    .replace(/11111111/g, '8')\r\n    .replace(/1111111/g, '7')\r\n    .replace(/111111/g, '6')\r\n    .replace(/11111/g, '5')\r\n    .replace(/1111/g, '4')\r\n    .replace(/111/g, '3')\r\n    .replace(/11/g, '2');\r\n}\r\n\r\n// convert bP, wK, etc code to FEN structure\r\nfunction pieceCodeToFen(piece) {\r\n  const pieceCodeLetters = piece.split('');\r\n\r\n  // white piece\r\n  if (pieceCodeLetters[0] === 'w') {\r\n    return pieceCodeLetters[1].toUpperCase();\r\n  }\r\n\r\n  // black piece\r\n  return pieceCodeLetters[1].toLowerCase();\r\n}\r\n\r\n// position object to FEN string\r\n// returns false if the obj is not a valid position object\r\nexport function objToFen(obj) {\r\n  if (!validPositionObject(obj)) return false;\r\n  let fen = '';\r\n  let currentRow = 8;\r\n\r\n  for (let i = 0; i < 8; i++) {\r\n    for (let j = 0; j < 8; j++) {\r\n      const square = COLUMNS[j] + currentRow;\r\n\r\n      // piece exists\r\n      if (obj[square]) {\r\n        fen = fen + pieceCodeToFen(obj[square]);\r\n      } else {\r\n        // empty space\r\n        fen = fen + '1';\r\n      }\r\n    }\r\n\r\n    if (i !== 7) {\r\n      fen = fen + '/';\r\n    }\r\n    currentRow = currentRow - 1;\r\n  }\r\n  // squeeze the empty numbers together\r\n  fen = squeezeFenEmptySquares(fen);\r\n  return fen;\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport { defaultPieces } from '../media/pieces';\r\nimport { convertPositionToObject, getPositionDifferences } from '../functions';\r\n\r\n// add arrows - https://stackoverflow.com/questions/25527902/drawing-arrows-on-a-chess-board-in-javascript\r\n// prevent scroll on drag\r\n// add other things from chessground\r\n// change board orientation to 'w' or 'b'? like used in chess.js?\r\n\r\n// npm adduser\r\n// npm login\r\n// npm publish\r\n\r\nconst ChessboardContext = React.createContext();\r\n\r\nexport function ChessboardProvider({\r\n  animationDuration,\r\n  arePiecesDraggable,\r\n  boardOrientation,\r\n  boardWidth,\r\n  customBoardStyle,\r\n  customDarkSquareStyle,\r\n  customDropSquareStyle,\r\n  customLightSquareStyle,\r\n  customPieces,\r\n  customSquareStyles,\r\n  dropOffBoardAction,\r\n  id,\r\n  isDraggablePiece,\r\n  getPositionObject,\r\n  onDragOverSquare,\r\n  onMouseOutSquare,\r\n  onMouseOverSquare,\r\n  onPieceClick,\r\n  onPieceDrop,\r\n  onSquareClick,\r\n  onSquareRightClick,\r\n  position,\r\n  showBoardNotation,\r\n  showSparePieces,\r\n  children\r\n}) {\r\n  // position stored and displayed on board\r\n  const [currentPosition, setCurrentPosition] = useState(convertPositionToObject(position));\r\n  const [positionDifferences, setPositionDifferences] = useState({});\r\n\r\n  // chess pieces\r\n  const [chessPieces, setChessPieces] = useState({ ...defaultPieces, ...customPieces });\r\n\r\n  // whether the last move was a manual drop or not\r\n  const [manualDrop, setManualDrop] = useState(false);\r\n\r\n  // the most recent timeout whilst waiting for animation to complete\r\n  const [previousTimeout, setPreviousTimeout] = useState();\r\n\r\n  // screen size\r\n  const [screenSize, setScreenSize] = useState(undefined);\r\n\r\n  // if currently waiting for an animation to finish\r\n  const [waitingForAnimation, setWaitingForAnimation] = useState(false);\r\n\r\n  // init screen size listener\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setScreenSize({ width: window.innerWidth, height: window.innerHeight });\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // handle external position change\r\n  useEffect(() => {\r\n    const newPosition = convertPositionToObject(position);\r\n\r\n    // external move has come in before animation is over\r\n    if (waitingForAnimation) {\r\n      setCurrentPosition(newPosition);\r\n      setWaitingForAnimation(false);\r\n      if (previousTimeout) clearTimeout(previousTimeout);\r\n    } else {\r\n      // update source and target attributes\r\n      if (manualDrop) {\r\n        setCurrentPosition(newPosition);\r\n        setWaitingForAnimation(false);\r\n      } else {\r\n        setWaitingForAnimation(true);\r\n        setPositionDifferences(getPositionDifferences(currentPosition, newPosition));\r\n        const newTimeout = setTimeout(() => {\r\n          setCurrentPosition(newPosition);\r\n          setWaitingForAnimation(false);\r\n        }, animationDuration);\r\n        setPreviousTimeout(newTimeout);\r\n      }\r\n    }\r\n\r\n    // reset manual drop, ready for next move to be made by user or computer\r\n    setManualDrop(false);\r\n  }, [position]);\r\n\r\n  // handle drop position change\r\n  function handleSetPosition(sourceSq, targetSq, piece) {\r\n    // if dropped back down, don't do anything. if transitioning, don't allow new drop\r\n    if (sourceSq === targetSq || waitingForAnimation) return;\r\n\r\n    const newOnDropPosition = { ...currentPosition };\r\n\r\n    // delete if dropping off board\r\n    if (dropOffBoardAction === 'trash' && !targetSq) {\r\n      delete newOnDropPosition[sourceSq];\r\n    }\r\n\r\n    // delete source piece if not dropping from spare piece\r\n    if (sourceSq !== 'spare') {\r\n      delete newOnDropPosition[sourceSq];\r\n    }\r\n\r\n    // add piece in new position\r\n    newOnDropPosition[targetSq] = piece;\r\n\r\n    setManualDrop(true);\r\n    getPositionObject(newOnDropPosition);\r\n\r\n    if (onPieceDrop.length) onPieceDrop(sourceSq, targetSq, piece);\r\n    else setCurrentPosition(newOnDropPosition);\r\n  }\r\n\r\n  return (\r\n    <ChessboardContext.Provider\r\n      value={{\r\n        animationDuration,\r\n        arePiecesDraggable,\r\n        boardOrientation,\r\n        boardWidth,\r\n        customBoardStyle,\r\n        customDarkSquareStyle,\r\n        customDropSquareStyle,\r\n        customLightSquareStyle,\r\n        customSquareStyles,\r\n        dropOffBoardAction,\r\n        id,\r\n        isDraggablePiece,\r\n        getPositionObject,\r\n        onDragOverSquare,\r\n        onMouseOutSquare,\r\n        onMouseOverSquare,\r\n        onPieceClick,\r\n        onPieceDrop,\r\n        onSquareClick,\r\n        onSquareRightClick,\r\n        showBoardNotation,\r\n        showSparePieces,\r\n\r\n        chessPieces,\r\n        currentPosition,\r\n        handleSetPosition,\r\n        manualDrop,\r\n        positionDifferences,\r\n        screenSize,\r\n        setChessPieces,\r\n        setCurrentPosition,\r\n        setManualDrop,\r\n        waitingForAnimation\r\n      }}\r\n    >\r\n      {children}\r\n    </ChessboardContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useChessboard = () => useContext(ChessboardContext);\r\n\r\nexport default ChessboardContext;\r\n","import { useEffect, useState } from 'react';\r\nimport { useDrag } from 'react-dnd';\r\n\r\nimport { useChessboard } from '../context/chessboard-context';\r\n\r\nexport default function Piece({ square, piece, getSquareCoordinates, getSingleSquareCoordinates }) {\r\n  const {\r\n    animationDuration,\r\n    arePiecesDraggable,\r\n    boardWidth,\r\n    id,\r\n    isDraggablePiece,\r\n    onPieceClick,\r\n    chessPieces,\r\n    dropTarget,\r\n    positionDifferences,\r\n    waitingForAnimation,\r\n    currentPosition\r\n  } = useChessboard();\r\n\r\n  const [pieceStyle, setPieceStyle] = useState({\r\n    opacity: 1,\r\n    zIndex: 5,\r\n    touchAction: 'none',\r\n    cursor: arePiecesDraggable\r\n      ? isDraggablePiece({ piece, sourceSquare: square })\r\n        ? '-webkit-grab'\r\n        : 'not-allowed'\r\n      : 'default'\r\n  });\r\n\r\n  const [{ canDrag, isDragging }, drag] = useDrag(\r\n    () => ({\r\n      type: 'piece',\r\n      item: { piece, square, id },\r\n      collect: (monitor) => ({\r\n        canDrag: isDraggablePiece({ piece, sourceSquare: square }),\r\n        isDragging: !!monitor.isDragging()\r\n      })\r\n    }),\r\n    [piece, square, currentPosition]\r\n  );\r\n\r\n  // hide piece on drag\r\n  useEffect(() => {\r\n    setPieceStyle({\r\n      ...pieceStyle,\r\n      opacity: isDragging ? 0 : 1\r\n    });\r\n  }, [isDragging]);\r\n\r\n  useEffect(() => {\r\n    // new move has come in\r\n    // if waiting for animation, then animation has started and we can perform animation\r\n    // we need to head towards where we need to go, we are the source, we are heading towards the target\r\n    const removedPiece = positionDifferences.removed?.[square];\r\n    // check if piece matches or if removed piece was a pawn and new square is on 1st or 8th rank (promotion)\r\n    const newSquare = Object.entries(positionDifferences.added).find(\r\n      ([s, p]) => p === removedPiece || (removedPiece?.[1] === 'P' && (s[1] === '1' || s[1] === '8'))\r\n    );\r\n    // we can perform animation if our square was in removed, AND the matching piece is in added\r\n    if (waitingForAnimation && removedPiece && newSquare) {\r\n      const { sourceSq, targetSq } = getSquareCoordinates(square, newSquare[0]);\r\n      if (sourceSq && targetSq) {\r\n        setPieceStyle({\r\n          ...pieceStyle,\r\n          transform: `translate(${targetSq.x - sourceSq.x}px, ${targetSq.y - sourceSq.y}px)`,\r\n          transition: `transform ${animationDuration}ms`\r\n        });\r\n      }\r\n    }\r\n  }, [positionDifferences]);\r\n\r\n  // translate to their own positions (repaint on undo)\r\n  useEffect(() => {\r\n    const { sourceSq } = getSingleSquareCoordinates(square);\r\n    if (sourceSq) {\r\n      setPieceStyle({\r\n        ...pieceStyle,\r\n        transform: `translate(${0}px, ${0}px)`,\r\n        transition: `transform ${0}ms`\r\n      });\r\n    }\r\n  }, [currentPosition]);\r\n\r\n  return (\r\n    <div\r\n      ref={arePiecesDraggable ? (canDrag ? drag : null) : null}\r\n      onClick={() => onPieceClick(piece)}\r\n      style={pieceStyle}\r\n    >\r\n      {typeof chessPieces[piece] === 'function' ? (\r\n        chessPieces[piece]({\r\n          squareWidth: boardWidth / 8,\r\n          isDragging,\r\n          droppedPiece: dropTarget?.piece,\r\n          targetSquare: dropTarget?.target,\r\n          sourceSquare: dropTarget?.source\r\n        })\r\n      ) : (\r\n        <svg viewBox={'1 1 43 43'} width={boardWidth / 8} height={boardWidth / 8}>\r\n          <g>{chessPieces[piece]}</g>\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef } from 'react';\r\nimport { useDrop } from 'react-dnd';\r\n\r\nimport { useChessboard } from '../context/chessboard-context';\r\n\r\nexport default function Square({ square, squareColor, setSquares, children }) {\r\n  const squareRef = useRef();\r\n  const {\r\n    boardWidth,\r\n    boardOrientation,\r\n    customBoardStyle,\r\n    customDarkSquareStyle,\r\n    customDropSquareStyle,\r\n    customLightSquareStyle,\r\n    customSquareStyles,\r\n    handleSetPosition,\r\n    onDragOverSquare,\r\n    onMouseOutSquare,\r\n    onMouseOverSquare,\r\n    onSquareClick,\r\n    onSquareRightClick,\r\n    waitingForAnimation\r\n  } = useChessboard();\r\n\r\n  const [{ isOver }, drop] = useDrop(\r\n    () => ({\r\n      accept: 'piece',\r\n      drop: (item) => handleSetPosition(item.square, square, item.piece),\r\n      collect: (monitor) => ({\r\n        isOver: !!monitor.isOver()\r\n      })\r\n    }),\r\n    [square, waitingForAnimation]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const { x, y } = squareRef.current.getBoundingClientRect();\r\n    setSquares((oldSquares) => ({ ...oldSquares, [square]: { x, y } }));\r\n  }, [boardWidth]);\r\n\r\n  const defaultSquareStyle = {\r\n    ...size(boardWidth),\r\n    ...center,\r\n    ...borderRadius(customBoardStyle, square, boardOrientation),\r\n    ...(squareColor === 'black' ? customDarkSquareStyle : customLightSquareStyle),\r\n    ...(isOver && customDropSquareStyle)\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={drop}\r\n      style={defaultSquareStyle}\r\n      onMouseOver={() => onMouseOverSquare(square)}\r\n      onMouseOut={() => onMouseOutSquare(square)}\r\n      onDragEnter={() => onDragOverSquare(square)}\r\n      // onMouseDown={() => console.log(square)}\r\n      // onMouseUp={() => console.log(square)}\r\n      onClick={() => onSquareClick(square)}\r\n      onContextMenu={(e) => {\r\n        e.preventDefault();\r\n        onSquareRightClick(square);\r\n      }}\r\n    >\r\n      <div\r\n        ref={squareRef}\r\n        style={{\r\n          ...size(boardWidth),\r\n          ...center,\r\n          ...customSquareStyles?.[square]\r\n        }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst center = {\r\n  display: 'flex',\r\n  justifyContent: 'center'\r\n};\r\n\r\nconst size = (width) => ({\r\n  width: width / 8,\r\n  height: width / 8\r\n});\r\n\r\nconst borderRadius = (customBoardStyle, square, boardOrientation) => {\r\n  if (!customBoardStyle.borderRadius) return {};\r\n\r\n  if (square === 'a1') {\r\n    return boardOrientation === 'white'\r\n      ? { borderBottomLeftRadius: customBoardStyle.borderRadius }\r\n      : { borderTopRightRadius: customBoardStyle.borderRadius };\r\n  }\r\n  if (square === 'a8') {\r\n    return boardOrientation === 'white'\r\n      ? { borderTopLeftRadius: customBoardStyle.borderRadius }\r\n      : { borderBottomRightRadius: customBoardStyle.borderRadius };\r\n  }\r\n  if (square === 'h1') {\r\n    return boardOrientation === 'white'\r\n      ? { borderBottomRightRadius: customBoardStyle.borderRadius }\r\n      : { borderTopLeftRadius: customBoardStyle.borderRadius };\r\n  }\r\n  if (square === 'h8') {\r\n    return boardOrientation === 'white'\r\n      ? { borderTopRightRadius: customBoardStyle.borderRadius }\r\n      : { borderBottomLeftRadius: customBoardStyle.borderRadius };\r\n  }\r\n\r\n  return {};\r\n};\r\n","import { COLUMNS } from '../consts';\r\nimport { useChessboard } from '../context/chessboard-context';\r\n\r\nexport default function Notation({ row, col }) {\r\n  const { boardOrientation, boardWidth, customDarkSquareStyle, customLightSquareStyle } = useChessboard();\r\n\r\n  const whiteColor = customLightSquareStyle.backgroundColor;\r\n  const blackColor = customDarkSquareStyle.backgroundColor;\r\n\r\n  const isRow = col === 0;\r\n  const isColumn = row === 7;\r\n  const isBottomLeftSquare = isRow && isColumn;\r\n\r\n  function getRow() {\r\n    return boardOrientation === 'white' ? 8 - row : row + 1;\r\n  }\r\n\r\n  function getColumn() {\r\n    return boardOrientation === 'black' ? COLUMNS[7 - col] : COLUMNS[col];\r\n  }\r\n\r\n  function renderBottomLeft() {\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            ...notationStyle,\r\n            ...{ color: whiteColor },\r\n            ...numericStyle(boardWidth)\r\n          }}\r\n        >\r\n          {getRow(boardOrientation, row)}\r\n        </div>\r\n        <div\r\n          style={{\r\n            ...notationStyle,\r\n            ...{ color: whiteColor },\r\n            ...alphaStyle(boardWidth)\r\n          }}\r\n        >\r\n          {getColumn(boardOrientation, col)}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  function renderLetters() {\r\n    return (\r\n      <div\r\n        style={{\r\n          ...notationStyle,\r\n          ...{ color: col % 2 !== 0 ? blackColor : whiteColor },\r\n          ...alphaStyle(boardWidth)\r\n        }}\r\n      >\r\n        {getColumn(boardOrientation, col)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function renderNumbers() {\r\n    return (\r\n      <div\r\n        style={{\r\n          ...notationStyle,\r\n          ...(boardOrientation === 'black'\r\n            ? { color: row % 2 === 0 ? blackColor : whiteColor }\r\n            : { color: row % 2 === 0 ? blackColor : whiteColor }),\r\n          ...numericStyle(boardWidth)\r\n        }}\r\n      >\r\n        {getRow(boardOrientation, row)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isBottomLeftSquare) {\r\n    return renderBottomLeft();\r\n  }\r\n\r\n  if (isColumn) {\r\n    return renderLetters();\r\n  }\r\n\r\n  if (isRow) {\r\n    return renderNumbers();\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nconst alphaStyle = (width) => ({\r\n  alignSelf: 'flex-end',\r\n  paddingLeft: width / 8 - width / 48,\r\n  fontSize: width / 48\r\n});\r\n\r\nconst numericStyle = (width) => ({\r\n  alignSelf: 'flex-start',\r\n  paddingRight: width / 8 - width / 48,\r\n  fontSize: width / 48\r\n});\r\n\r\nconst notationStyle = {\r\n  fontFamily: 'Helvetica Neue',\r\n  zIndex: 3,\r\n  position: 'absolute'\r\n};\r\n","import { COLUMNS } from '../consts';\r\nimport { useChessboard } from '../context/chessboard-context';\r\n\r\nexport default function Squares({ children }) {\r\n  const { boardOrientation, boardWidth, customBoardStyle, id } = useChessboard();\r\n\r\n  let squareColor = 'white';\r\n\r\n  return (\r\n    <div data-boardid={id} style={{ ...boardStyles(boardWidth), ...customBoardStyle }}>\r\n      {[...Array(8)].map((_, r) => {\r\n        return (\r\n          <div key={r.toString()} style={rowStyles(boardWidth)}>\r\n            {[...Array(8)].map((_, c) => {\r\n              // a1, a2 ...\r\n              const square = boardOrientation === 'black' ? COLUMNS[7 - c] + (r + 1) : COLUMNS[c] + (8 - r);\r\n              squareColor = c % 2 === 0 ? (r % 2 === 0 ? 'white' : 'black') : r % 2 === 0 ? 'black' : 'white';\r\n              return children({ square, squareColor, col: c, row: r });\r\n            })}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst boardStyles = (width) => ({\r\n  cursor: 'default',\r\n  height: width,\r\n  width\r\n});\r\n\r\nconst rowStyles = (width) => ({\r\n  display: 'flex',\r\n  flexWrap: 'nowrap',\r\n  width\r\n});\r\n","import React from 'react';\r\n\r\nexport default {\r\n  whiteKing: (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.1\"\r\n      style={{\r\n        shapeRendering: 'geometricPrecision',\r\n        textRendering: 'geometricPrecision',\r\n        imageRendering: 'optimizeQuality'\r\n      }}\r\n      viewBox=\"0 0 4210 12970\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      width=\"250\"\r\n      height=\"250\"\r\n    >\r\n      <g>\r\n        <path\r\n          style={{\r\n            fill: 'black',\r\n            fillRule: 'nonzero'\r\n          }}\r\n          d=\"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  )\r\n};\r\n","import errorImage from '../media/error';\r\n\r\nexport default function ErrorBoundary({ children }) {\r\n  try {\r\n    return children;\r\n  } catch (error) {\r\n    return <WhiteKing showError={true} />;\r\n  }\r\n}\r\n\r\nexport function WhiteKing({ showError = false }) {\r\n  return (\r\n    <div style={container}>\r\n      <div style={whiteKingStyle}>{errorImage.whiteKing}</div>\r\n      {showError && <h1>Something went wrong</h1>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst container = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  flexDirection: 'column'\r\n};\r\n\r\nconst whiteKingStyle = {\r\n  width: 250,\r\n  height: 250,\r\n  transform: 'rotate(90deg)'\r\n};\r\n","import { useState } from 'react';\r\nimport { usePreview } from 'react-dnd-multi-backend';\r\n\r\nimport Piece from './Piece';\r\nimport Square from './Square';\r\nimport Notation from './Notation';\r\nimport Squares from './Squares';\r\nimport { useChessboard } from '../context/chessboard-context';\r\nimport { WhiteKing } from './ErrorBoundary';\r\n\r\nexport default function Board() {\r\n  const [squares, setSquares] = useState({});\r\n\r\n  const { boardWidth, chessPieces, id, showBoardNotation, currentPosition, screenSize } = useChessboard();\r\n\r\n  function getSingleSquareCoordinates(square) {\r\n    return { sourceSq: squares[square] };\r\n  }\r\n\r\n  function getSquareCoordinates(sourceSquare, targetSquare) {\r\n    return {\r\n      sourceSq: squares[sourceSquare],\r\n      targetSq: squares[targetSquare]\r\n    };\r\n  }\r\n\r\n  const HookPreview = () => {\r\n    const { display, item, style } = usePreview();\r\n    if (!display || item.id !== id) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div\r\n        style={{\r\n          ...style,\r\n          touchAction: 'none'\r\n        }}\r\n      >\r\n        {typeof chessPieces[item.piece] === 'function' ? (\r\n          chessPieces[item.piece]({\r\n            squareWidth: boardWidth / 8,\r\n            isDragging: true\r\n          })\r\n        ) : (\r\n          <svg viewBox={'1 1 43 43'} width={boardWidth / 8} height={boardWidth / 8}>\r\n            <g>{chessPieces[item.piece]}</g>\r\n          </svg>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return screenSize && boardWidth ? (\r\n    <>\r\n      <HookPreview />\r\n      <Squares>\r\n        {({ square, squareColor, col, row }) => {\r\n          return (\r\n            <Square key={`${col}${row}`} square={square} squareColor={squareColor} setSquares={setSquares}>\r\n              {currentPosition[square] && (\r\n                <Piece\r\n                  square={square}\r\n                  piece={currentPosition[square]}\r\n                  getSquareCoordinates={getSquareCoordinates}\r\n                  getSingleSquareCoordinates={getSingleSquareCoordinates}\r\n                />\r\n              )}\r\n              {showBoardNotation && <Notation row={row} col={col} />}\r\n            </Square>\r\n          );\r\n        }}\r\n      </Squares>\r\n    </>\r\n  ) : (\r\n    <WhiteKing />\r\n  );\r\n}\r\n","import { DndProvider } from 'react-dnd-multi-backend';\r\nimport HTML5toTouch from 'react-dnd-multi-backend/dist/esm/HTML5toTouch';\r\n\r\nimport Board from './components/Board';\r\n// import CustomDragLayer from './components/CustomDragLayer';\r\nimport ErrorBoundary from './components/ErrorBoundary';\r\n// import SparePieces from './components/SparePieces';\r\n\r\nimport { chessboardDefaultProps, chessboardPropTypes } from './consts';\r\nimport { ChessboardProvider } from './context/chessboard-context';\r\n\r\nfunction Chessboard(props) {\r\n  return (\r\n    <ErrorBoundary>\r\n      <DndProvider options={{ backends: [{ ...HTML5toTouch.backends[0], preview: true }, HTML5toTouch.backends[1]] }}>\r\n        <ChessboardProvider {...props}>\r\n          {/* <CustomDragLayer /> */}\r\n          <div>\r\n            {/* {props.showSparePieces && <SparePieces.Top />} */}\r\n            <Board />\r\n            {/* {props.showSparePieces && <SparePieces.Bottom />} */}\r\n          </div>\r\n        </ChessboardProvider>\r\n      </DndProvider>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n\r\nChessboard.propTypes = chessboardPropTypes;\r\nChessboard.defaultProps = chessboardDefaultProps;\r\n\r\nexport default Chessboard;\r\n"],"names":["event","check","_isMBTransition","TouchTransition","createTransition","touches","MouseTransition","type","indexOf","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","i","F","s","n","length","done","value","e","_e","f","TypeError","it","normalCompletion","didErr","err","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","PreviewList","_this","register","preview","previews","push","unregister","index","splice","backendChanged","backend","_iterator","_step","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","_default","manager","context","sourceOptions","setup","window","isSetUp","Error","addEventListeners","backends","current","teardown","removeEventListeners","connectDragSource","_len","arguments","args","_key","connectBackend","connectDragPreview","_len2","_key2","connectDropTarget","_len3","_key3","previewEnabled","target","forEach","transition","addEventListener","backendSwitcher","removeEventListener","oldBackend","some","keys","nodes","id","node","handler","callBackend","func","newBackend","skipDispatchOnTransition","newEvent","document","createEvent","initEvent","bubbles","cancelable","dispatchEvent","_this$backends$_this$","apply","nodeId","concat","_this$nodes$nodeId","r","options","assign","Boolean","MultiBackend","b","for","c","d","g","h","k","l","m","p","q","t","v","w","x","y","z","a","u","$$typeof","A","process","env","NODE_ENV","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","isValidElementType","typeOf","object","$$typeofType","undefined","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","console","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","exports","module","require","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","map","join","test3","split","letter","source","to","symbols","key","ReactPropTypesSecret","printWarning","loggedTypeFailures","has","Function","bind","text","message","error","checkPropTypes","typeSpecs","values","location","componentName","getStack","typeSpecName","ex","stack","resetWarningCache","ReactIs","emptyFunctionThatReturnsNull","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","array","createPrimitiveTypeChecker","bool","number","string","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","element","createElementTypeChecker","elementType","createElementTypeTypeChecker","instanceOf","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","props","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","JSON","stringify","replacer","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","entries","entry","isSymbol","RegExp","Date","PropTypes","emptyFunction","emptyFunctionWithReset","shim","getShim","DndContext","createContext","dragDropManager","HandlerRole","invariant","condition","format","argIndex","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","payload","_typeof","obj","get","path","defaultValue","reduce","without","items","item","filter","isObject","input","xor","itemsA","itemsB","Map","insertItem","set","result","count","intersection","ResetCoordinatesAction","createBeginDrag","beginDrag","sourceIds","publishSource","_options$publishSourc","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants","sourceId","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","isDragging","canDragSource","createPublishDragSource","publishDragSource","matchesType","targetType","draggedItemType","createHover","hover","targetIdsArg","_ref","verifyTargetIdsIsArray","targetIds","checkInvariants","getItemType","removeNonMatchingTargetIds","hoverAllTargets","didDrop","targetId","lastIndexOf","getTarget","getTargetType","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","createDrop","drop","getDroppableTargets","dropResult","determineDropResult","action","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","reverse","createEndDrag","endDrag","verifyIsDragging","getSourceId","unpinSource","createDragDropActions","_defineProperties","descriptor","_createClass","protoProps","staticProps","DragDropManagerImpl","store","handleRefCountChange","shouldSetUp","getState","refCount","subscribe","receiveBackend","getBackend","getActions","bindActionCreator","actionCreator","actions","boundActions","formatProdErrorMessage","code","$$observable","observable","randomString","Math","random","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","miniKindOf","isDate","isError","constructorName","ctorName","toLowerCase","replace","stackTraceLimit","toDateString","getDate","setDate","kindOf","typeOfVal","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","unsubscribe","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","warning","isCrushed","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","initialState","initialSourceClientOffset","initialClientOffset","state","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","addSource","addTarget","removeSource","removeTarget","NONE","ALL","__IS_NONE__","__IS_ALL__","areDirty","dirtyIds","handlerIds","commonIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","add","subtract","getDifferenceFromInitialOffset","DragDropMonitorImpl","subscribeToStateChange","prevStateId","handleChange","currentStateId","canSkipListener","subscribeToOffsetChange","_this2","previousState","nextState","canDrag","canDrop","isDraggingSource","sourceType","isOverTarget","shallow","getItem","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","getNextUniqueId","validateSourceContract","validateTargetContract","validateType","allowArray","rawAsap","task","queue","requestFlush","capacity","flush","currentIndex","scan","newLength","scope","global","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","makeRequestCallFromTimer","callback","toggle","createTextNode","observe","characterData","requestCall","data","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","freeTasks","pendingErrors","requestErrorThrow","throwFirstError","shift","asap","rawTask","pop","RawTask","onerror","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_i","_s","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","isDone","_entries$next","_entries$next$value","HandlerRegistryImpl","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","addHandler","_addSource","_addTarget","containsHandler","includePinned","isSourceId","isPinned","isTargetId","_removeSource","delete","_removeTarget","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","makeStoreInstance","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","_excluded","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","INSTANCE_SYM","DndProvider","memo","children","_getDndContextValue","getDndContextValue","_getDndContextValue2","isGlobalInstance","useEffect","getGlobalContext","_jsx","Provider","_manager","createSingletonDndContext","ctx","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","internalMonitor","receiveHandlerId","getHandlerId","isCallingCanDrop","DropTargetMonitorImpl","isOver","throwIfCompositeComponentElement","displayName","wrapHookToRecognizeElement","hook","elementOrNode","ref","cloneWithRef","wrapConnectorHooks","hooks","wrappedHooks","endsWith","wrappedHook","setRef","newRef","previousRef","cloneElement","isRef","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","newHandlerId","reconnect","dragSourceOptionsInternal","dragPreviewOptionsInternal","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedHandlerId","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","TargetConnector","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","dropTargetOptionsInternal","registerTarget","registerSource","useIsomorphicLayoutEffect","useLayoutEffect","DragSourceImpl","spec","connector","_result","globalMonitor","end","useDragSource","useMemo","useDragDropManager","_useContext","useContext","useDragType","useRegisteredDragSource","registerDragSource","_registerSource","_registerSource2","useOptionalFactory","arg","deps","memoDeps","useDragSourceMonitor","useDragSourceConnector","equal","flags","valueOf","useCollector","collect","onUpdate","_useState","useState","_useState2","collected","setCollected","updateCollected","useCallback","nextValue","useMonitorOutput","onCollect","_useCollector","_useCollector2","subscribeToMonitorStateChange","useCollectedProps","collector","useConnectDragSource","useConnectDragPreview","useDrag","specArg","begin","previewOptions","useAccept","accept","DropTargetImpl","useDropTarget","useRegisteredDropTarget","registerDropTarget","_registerTarget","_registerTarget2","useDropTargetMonitor","useDropTargetConnector","useConnectDropTarget","useDrop","useDragLayer","_extends","PreviewPortalContext","React","previewPortal","useRef","createElement","ReactDndProvider","propTypes","getStyle","currentOffset","transform","pointerEvents","position","top","left","WebkitTransform","usePreview","collectedProps","display","style","generator","useObservePreviews","enabled","setEnabled","dndContext","cbackend","usePreviewDnd","memoize","fn","memoized","union","Set","EnterLeaveCounter","isNodeInDocument","enter","enteringNode","previousLength","entered","isNodeEntered","contains","leave","leavingNode","reset","isFirefox","navigator","userAgent","isSafari","safari","MonotonicInterpolant","xs","ys","indexes","sort","dxs","ms","dx","dy","c1s","_i2","m2","mNext","dxNext","common","c2s","c3s","_i3","c1","invDx","_common","interpolate","low","high","mid","floor","xHere","max","diff","diffSq","ELEMENT_NODE","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","getEventClientOffset","clientX","clientY","isImageNode","_document$documentEle","nodeName","documentElement","getDragPreviewSize","isImage","sourceWidth","sourceHeight","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewOffset","sourceNode","anchorPoint","offsetPoint","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","offsetWidth","offsetHeight","anchorX","anchorY","_getDragPreviewSize","calculateYOffset","interpolantY","calculateXOffset","interpolantX","offsetX","offsetY","isManualOffsetX","isManualOffsetY","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","_nativeTypesConfig","nativeTypesConfig","NativeTypes","exposeProperties","files","matchesTypes","html","urls","NativeDragSource","config","initializeExposedProperties","property","warn","loadDataTransfer","newProperties","handle","createNativeDragSource","matchNativeItemType","dataTransferTypes","nativeItemType","OptionsReader","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","HTML5BackendImpl","sourceNodes","isDraggingNativeItem","currentNativeHandle","currentNativeSource","body","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","_this$getCurrentSourc2","captureDraggingState","beginDragNativeItem","hasAttribute","preventDefault","dragEnterTargetIds","isFirstEnter","enterLeaveCounter","altKeyPressed","altKey","dropEffect","getCurrentDropEffect","dragOverTargetIds","isLastLeave","endDragNativeItem","dropTargetIds","_this$currentNativeSo","dragDrop","tagName","isContentEditable","profile","_this$dragStartSource","_this$dragOverTargetI","size","sourcePreviewNodeOptions","sourceNodeOptions","root","__isReactDndBackendSetUp","asyncEndDragFrameId","_this$window","cancelAnimationFrame","_this3","handleDragStart","handleSelectStart","setAttribute","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","_this5","MOUSE_MOVE_TIMEOUT","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","HTML5Backend","createBackend","ListenerType","MouseButtons","Left","Right","Center","MouseButton","eventShouldStartDrag","button","eventShouldEndDrag","buttons","isTouchEvent","targetTouches","getEventClientTouchOffset","lastTargetTouchFallback","distance","x1","y1","x2","y2","sqrt","pow","abs","inAngleRanges","angleRanges","angle","atan2","PI","start","supportsPassive","supported","_this$args$delay","delay","scrollAngleRanges","getDropTargetElementsAtPoint","_this$args$ignoreCont","ignoreContextMenu","_this$args$enableHove","enableHoverOutsideTarget","_this$args$enableKeyb","enableKeyboardEvents","_this$args$enableMous","enableMouseEvents","_this$args$enableTouc","enableTouchEvents","touchSlop","_this$args$delayTouch","_this$args","_this$args2","delayTouchStart","_this$args$delayMouse","_this$args3","_this$args4","delayMouseStart","_this$context","_this$args5","_eventNames","eventNames","mouse","move","contextmenu","touch","keyboard","keydown","TouchBackendImpl","moveStartSourceIds","_mouseClientOffset","waitingForDelay","timeout","handleTopMoveStart","_evt","_isScrolling","installSourceNodeRemovalObserver","dragOverTargetNodes","targetNodes","elementsAtPoint","elementsFromPoint","elementsAtPointExtended","currentNode","orderedDragOverTargetIds","_getDropTargetId","ids","targetNode","uninstallSourceNodeRemovalObserver","listenerTypes","getTopMoveStartHandler","handleTopMoveStartCapture","handleTopMove","handleTopMoveCapture","handleTopMoveEndCapture","handleCancelOnEscape","subject","capture","passive","listenerType","evt","handleMoveStart","handleMove","coords","droppedOn","elementFromPoint","childMatch","handleTopMoveStartDelay","draggedSourceNode","draggedSourceNodeRemovalObserver","resurrectSourceNode","childList","removeAttribute","appendChild","disconnect","TouchBackend","defaultPieces","wP","opacity","fill","fillOpacity","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","wR","_jsxs","wN","wB","wQ","wK","bP","bR","bN","bB","bQ","bK","COLUMNS","chessboardPropTypes","animationDuration","arePiecesDraggable","boardOrientation","boardWidth","customBoardStyle","customDarkSquareStyle","customDropSquareStyle","customLightSquareStyle","customPieces","customSquareStyles","dropOffBoardAction","isDraggablePiece","getPositionObject","onDragOverSquare","onMouseOutSquare","onMouseOverSquare","onPieceClick","onPieceDrop","onSquareClick","onSquareRightClick","showBoardNotation","chessboardDefaultProps","backgroundColor","boxShadow","getPositionDifferences","currentPosition","newPosition","difference","removed","added","square","isString","convertPositionToObject","fenToObj","validFen","validPositionObject","fen","rows","currentRow","row","colIdx","j","search","numEmptySquares","parseInt","fenToPieceCode","expandFenEmptySquares","chunks","piece","toUpperCase","validSquare","validPieceCode","pos","ChessboardContext","ChessboardProvider","showSparePieces","setCurrentPosition","positionDifferences","setPositionDifferences","chessPieces","setChessPieces","manualDrop","setManualDrop","previousTimeout","setPreviousTimeout","screenSize","setScreenSize","waitingForAnimation","setWaitingForAnimation","handleResize","innerWidth","innerHeight","newTimeout","handleSetPosition","sourceSq","targetSq","newOnDropPosition","useChessboard","Piece","getSquareCoordinates","getSingleSquareCoordinates","pieceStyle","setPieceStyle","zIndex","touchAction","cursor","sourceSquare","drag","removedPiece","newSquare","find","squareWidth","droppedPiece","targetSquare","Square","squareColor","setSquares","squareRef","oldSquares","defaultSquareStyle","center","borderRadius","justifyContent","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","Notation","col","whiteColor","blackColor","isRow","isColumn","isBottomLeftSquare","getRow","getColumn","renderBottomLeft","notationStyle","color","numericStyle","alphaStyle","renderLetters","renderNumbers","alignSelf","paddingLeft","fontSize","paddingRight","fontFamily","Squares","boardStyles","_","rowStyles","flexWrap","whiteKing","shapeRendering","textRendering","imageRendering","ErrorBoundary","WhiteKing","showError","container","whiteKingStyle","errorImage","alignItems","flexDirection","Board","squares","HookPreview","Chessboard","HTML5toTouch","defaultProps"],"mappings":"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"}